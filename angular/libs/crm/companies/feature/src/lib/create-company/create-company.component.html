<form
  [formGroup]="form"
  #formRef="ngForm"
  (ngSubmit)="store.formOnSubmit($event, form)"
>
  <div
    style="
      display: flex;
      flex-direction: column;
      align-items: start;
      gap: 0.5rem;
    "
  >
    <h2>
      {{
        '::CreateNewX' | abpLocalization : ('CRM::Company' | abpLocalization)
      }}
    </h2>
    <div style="display: flex; flex-direction: column; align-items: start">
      <input
        type="text"
        formControlName="name"
        [placeholder]="'::Name' | abpLocalization"
      />
      @if (formRef.submitted && form.controls.name.hasError('required')) {
      <!-- TODO -->
      <div style="color: red">Required</div>
      }
    </div>
    <input
      type="email"
      formControlName="email"
      [placeholder]="'CRM::Email' | abpLocalization"
    />
    <input
      type="tel"
      formControlName="phoneNumber"
      [placeholder]="'CRM::PhoneNumber' | abpLocalization"
    />
    <input
      type="url"
      formControlName="website"
      [placeholder]="'CRM::Website' | abpLocalization"
    />
    <div style="display: flex; gap: 0.5rem">
      <button type="submit" [disabled]="store.savingForm()">
        {{ '::Save' | abpLocalization }}
      </button>
      @if (vm.savingForm()) {
      <div>Saving...</div>
      }
    </div>
  </div>
</form>

@if (vm.formResponse()) {
<div>Response:</div>
<pre>
  {{ vm.formResponse() | json }}
</pre>
} @else if (vm.formErrorResponse()) {
<div>Error response:</div>
<pre>
  {{ vm.formErrorResponse() | json }}
</pre>
}
